<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="./assets/CSS/style.css">
    <title>Meal Planner</title>
</head>
<body>
    <header>
        <h1>üçî Plan Your Meals üçî</h1>
    </header>
    <div class="container" id="container">
        <div class="row">
            <div class="box" id="cuisineBox"> <!-- New box for cuisine selection -->
                <h2>Select a Cuisine!</h2>
                <button type="button" class="cuisine-button" onclick="selectCuisine('african')">African</button>
                <button type="button" class="cuisine-button" onclick="selectCuisine('asian')">Asian</button>
                <button type="button" class="cuisine-button" onclick="selectCuisine('american')">American</button>
                <button type="button" class="cuisine-button" onclick="selectCuisine('british')">British</button>
                <button type="button" class="cuisine-button" onclick="selectCuisine('cajun')">Cajun</button>
                <button type="button" class="cuisine-button" onclick="selectCuisine('caribbean')">Caribbean</button>
                <button type="button" class="cuisine-button" onclick="selectCuisine('chinese')">Chinese</button>
                <button type="button" class="cuisine-button" onclick="selectCuisine('eastern european')">Eastern European</button>
                <button type="button" class="cuisine-button" onclick="selectCuisine('european')">European</button>
                <!-- Add more cuisine buttons as needed -->
                <p>Would you like to add a random drink?</p>
                <input type="checkbox" id="randomDrinkCheckbox" name="randomDrinkCheckbox">
                <label for="randomDrinkCheckbox">Yes, please!</label>
                <button id="buttonContinue" onclick="showIngredients()">Continue to Ingredients</button>
                <div id="cuisineWarning" style="display: none; color: red;">Must select cuisine before continuing to ingredients</div>
            </div>
            <div class="box" id="dynamicBox" style="display: none;"> <!-- We can simplify the buttons with a loop in javascript if desired. I don't personally mind doing it in HTML, but doing so in Javascript may perhaps be more efficient -- Pat -->
                <button class="back-button" onclick="goBack()">Back</button> <!-- New back button -->
                <h2 style="clear:both; font-weight: bold;">Recipes</h2>
                <form id="recipeForm" style="clear:both;">       
                    <label for="dietType">Diet:</label>
                    <select id="dietType" name="dietType" onchange="toggleIngredientButtons()">
                        <option value="common">Common</option>
                        <option value="vegetarian">Vegetarian</option>
                        <option value="vegan">Vegan</option>
                        <option value="pescatarian">Pescatarian</option>
                        <option value="gluten">Gluten</option>
                        <option value="primal">Primal</option>
                        <option value="kosher">Kosher</option>
                    </select>
                <p style="font-weight: bold;">Ingredients</p>
                <div>
                    <button type="button" class="ingredient-button" data-diet="primal,gluten,kosher" onclick="searchWithIngredient('beef')">Beef</button>
                    <button type="button" class="ingredient-button" data-diet="primal,gluten,kosher" onclick="searchWithIngredient('chicken')">Chicken</button>
                    <button type="button" class="ingredient-button" data-diet="primal,gluten" onclick="searchWithIngredient('pork')">Pork</button>
                    <button type="button" class="ingredient-button" data-diet="primal,gluten,pescatarian" onclick="searchWithIngredient('fish')">Fish</button>
                    <button type="button" class="ingredient-button" data-diet="primal,vegetarian,pescatarian,gluten,kosher" onclick="searchWithIngredient('egg')">Egg</button>
                    <button type="button" class="ingredient-button" data-diet="vegan,primal,vegetarian,pescatarian,gluten,kosher" onclick="searchWithIngredient('rice')">Rice</button>
                    <button type="button" class="ingredient-button" data-diet="vegan,primal,vegetarian,pescatarian,gluten,kosher" onclick="searchWithIngredient('tofu')">Tofu</button>
                    <button type="button" class="ingredient-button" data-diet="vegan,vegetarian,pescatarian,gluten,kosher" onclick="searchWithIngredient('pasta')">Pasta</button>
                    <button type="button" class="ingredient-button" data-diet="vegan,primal,vegetarian,pescatarian,gluten,kosher" onclick="searchWithIngredient('beans')">Beans</button>
                    <button type="button" class="ingredient-button" data-diet="vegan,primal,vegetarian,pescatarian,gluten,kosher" onclick="searchWithIngredient('tomato')">Tomato</button>
                </div>
                <button id="generateResults">Show Me Recipes</button>
                </form>
            </div>
            <section id="mealData" class="row is-invisible" >
                <div id="mealInfo">
                    <h1>Meal: </h1>
                    <img src="" alt="food image"></img>
                    <p>Ready in  minutes</p>
                    <p>Servings: </p> 
                    <a href=''>Instructions Link</a>
                </div>
            </section>
        </div>
        
        <!-- <div class="box ml-2 is-sr-only" id="recipeBox"> -->
    </div>

    <button id="showMore">Show More</button>
    <script>
        function setBoxSize() {
            const box = document.getElementById('dynamicBox')
            const totalHeight = array.from(box.children).reduce((acc, child) => {
                return acc + child.offsetHeight;
            }, 0);
            box.style.minHeight = totalHeight + 'px';
        }

        function showIngredients() {
            document.getElementById('cuisineBox').style.display = 'none';
            document.getElementById('dynamicBox').style.display = 'block';          
        }

        function goBack() {
            document.getElementById('dynamicBox').style.display = 'none';
            document.getElementById('cuisineBox').style.display = 'block';
        }     
    </script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="./assets/JS/main.js"></script>
</body>
</html>